DROP TABLE IF EXISTS ranges;
CREATE TABLE ranges (
id int PRIMARY KEY,
start datetime,
end datetime,
UNIQUE KEY range_key(start, end)
);
INSERT INTO ranges VALUES (1, "2012-10-25 16:18:29", "9999-12-31 23:59:59");
INSERT INTO ranges VALUES (2, "1000-01-02 00:00:00", "2012-10-05 16:18:29");
INSERT INTO ranges VALUES (3, "9999-12-31 23:59:59", "1000-01-02 00:00:00");
INSERT INTO ranges VALUES (4, "1000-01-02 00:00:00", "9999-12-31 23:59:59");
SELECT * FROM ranges FORCE INDEX(range_key)
ORDER BY start, end;
id	start	end
2	1000-01-02 00:00:00	2012-10-05 16:18:29
4	1000-01-02 00:00:00	9999-12-31 23:59:59
1	2012-10-25 16:18:29	9999-12-31 23:59:59
3	9999-12-31 23:59:59	1000-01-02 00:00:00
DROP TABLE ranges;
