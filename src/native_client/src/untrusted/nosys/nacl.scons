# -*- python2 -*-
# Copyright (c) 2012 The Native Client Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

Import('env')

sources = ['access.c',
           'chmod.c',
           'chown.c',
           'endpwent.c',
           'environ.c',
           'execle.c',
           'execvp.c',
           'execl.c',
           'execv.c',
           'execlp.c',
           'execve.c',
           '_execve.c',
           'fcntl.c',
           'fchdir.c',
           'fchmod.c',
           'fchown.c',
           'fdatasync.c',
           'fork.c',
           'fsync.c',
           'ftruncate.c',
           'get_current_dir_name.c',
           'getegid.c',
           'geteuid.c',
           'getgid.c',
           'getlogin.c',
           'getrusage.c',
           'getppid.c',
           'getpwent.c',
           'getpwnam.c',
           'getpwnam_r.c',
           'getpwuid.c',
           'getpwuid_r.c',
           'getuid.c',
           'getwd.c',
           'ioctl.c',
           'isatty.c',
           'issetugid.c',
           'kill.c',
           'lchown.c',
           'link.c',
           'llseek.c',
           'lstat.c',
           'pclose.c',
           'pipe.c',
           'popen.c',
           'pselect.c',
           'raise.c',
           'readlink.c',
           'remove.c',
           'rename.c',
           'select.c',
           'setegid.c',
           'seteuid.c',
           'setgid.c',
           'setpwent.c',
           'settimeofday.c',
           'setuid.c',
           'signal.c',
           'sigprocmask.c',
           'symlink.c',
           'system.c',
           'times.c',
           'tmpfile.c',
           'truncate.c',
           'ttyname.c',
           'ttyname_r.c',
           'umask.c',
           'utime.c',
           'utimes.c',
           'vfork.c',
           'wait.c',
           'waitpid.c',
           ]

libnosys = env.NaClSdkLibrary(
    'libnosys',
    sources,
    # only enable shared versions of this library in the shared newlib case
    no_shared_lib=not env.Bit('pnacl_shared_newlib'))
env.AddLibraryToSdk(libnosys)
