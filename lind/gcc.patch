diff --git a/gcc/toplev.h b/gcc/toplev.h
index 2324b068f77b2365ec..a701c9ad327368022f 100644
--- a/gcc/toplev.h
+++ b/gcc/toplev.h
@@ -174,7 +174,7 @@ extern int exact_log2                  (unsigned HOST_WIDE_INT);
 extern int floor_log2                  (unsigned HOST_WIDE_INT);
 
 /* Inline versions of the above for speed.  */
-#if GCC_VERSION >= 3004
+#if GCC_VERSION >= 3004 && defined (__cplusplus)
 # if HOST_BITS_PER_WIDE_INT == HOST_BITS_PER_LONG
 #  define CLZ_HWI __builtin_clzl
 #  define CTZ_HWI __builtin_ctzl
